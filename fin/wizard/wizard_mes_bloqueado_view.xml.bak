<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="wizard_mes_bloqueado_form_view" model="ir.ui.view">
            <field name="name">wizard.mes.bloqueado.form.view</field>
            <field name="model">wizard.mes.bloqueado</field>
            <field name="arch" type="xml">
                <form>
                    <field name="state" invisible="1"/>
                    <field name="name" invisible="1"/>
                    <group states="choose">
                        <field name="company_id" required="1" groups="base.group_multi_company"
                               options="{'no_open': True, 'no_create': True, 'no_create_edit': True}" readonly="1"/>
                    </group>
                    <group col="4" states="choose">
                        <field name="anio" required="1"/>
                        <field name="mes_de" required="1"/>
                    </group>
                    <div states="get">
                            <h3>Cierre Exitoso de mes</h3>
                    </div>
                    <footer states ="choose">
                        <button name="cerrar_mes" string="Cierre de Mes" type="object" class="oe_highlight" />
                        or
                        <button string="Cancelar" class="oe_link" special="cancel" />
                    </footer>

                    <footer states ="pre">
                        <button name="bloquear_mes" string="Bloquear y Cerrar Mes" type="object" class="oe_highlight" />
                        or
                        <button string="Cancelar" class="oe_link" special="cancel" />
                    </footer>
                    <div states="pre">
                            <h3>Esta a punto de bloquear y cerrar el mes <h3><field name="mes_de"/></h3> del año <h3><field name="anio" readonly="1"/></h3> para la empresa <h3><field name="company_id" readonly="1"/></h3>
                            Esta acción no puede revertirse</h3>
                    </div>

                    <footer states="get">
                        <button name="go_back" string="Atras" type="object" class="oe_highlight" />
                        or
                        <button special="cancel" string="Cerrar" type="object" class="btn-primary"/>
                    </footer>
                </form>
            </field>
        </record>

        <record model="ir.actions.act_window" id="action_wizard_mes_bloqueado">
            <field name="name">Cierre de Mes</field>
            <field name="res_model">wizard.mes.bloqueado</field>
            <field name="view_mode">form</field>
            <field name="view_id" ref="wizard_mes_bloqueado_form_view" />
            <field name="target">new</field>
        </record>

        <menuitem action="action_wizard_mes_bloqueado" id="menu_mes_bloqueado_menu"
                  parent="account.menu_finance_entries_management" sequence="2"/>
    </data>
</odoo>
